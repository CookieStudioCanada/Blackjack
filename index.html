<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blackjack Game</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-dark text-white">
    <div class="container py-2">
        <div id="game-container" class="mx-auto">
            <div class="header d-flex justify-content-between align-items-center mb-3">
                <h1 class="mb-0 h2">Blackjack</h1>
                <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#rulesModal">?</button>
            </div>

            <div class="card bg-success mb-3">
                <div class="card-body p-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="chip-display">
                            <span class="h6 mb-0">Solde:</span>
                            <span id="chip-count" class="badge bg-warning text-dark fs-5">100</span>
                        </div>
                        <div class="current-bet">
                            <span class="h6 mb-0">Mise:</span>
                            <span id="current-bet" class="badge bg-warning text-dark fs-5">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="game-table" class="row g-2 mb-3">
                <div class="col-12 mb-2">
                    <div class="card bg-dark border-light">
                        <div class="card-body p-2">
                            <h3 class="text-white h5 mb-1">Croupier</h3>
                            <div id="dealer-cards" class="cards"></div>
                            <p id="dealer-score" class="mt-1 mb-0 text-white"></p>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <div class="card bg-dark border-light">
                        <div class="card-body p-2">
                            <h3 class="text-white h5 mb-1">Joueur</h3>
                            <div id="player-cards" class="cards"></div>
                            <p id="player-score" class="mt-1 mb-0 text-white"></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bet-controls mb-3">
                <div class="input-group">
                    <button class="btn btn-dark btn-sm px-3" type="button" onclick="adjustBet(-10)">-</button>
                    <input type="number" id="bet-amount" class="form-control form-control-sm text-center w-25" value="10" min="1" readonly>
                    <button class="btn btn-dark btn-sm px-3" type="button" onclick="adjustBet(10)">+</button>
                    <button id="bet-btn" class="btn btn-warning btn-sm">Miser</button>
                </div>
            </div>

            <div id="controls" class="mb-3">
                <div class="d-flex gap-1 mb-1">
                    <button id="hit-btn" class="btn btn-success btn-sm w-50" disabled>Tirer carte</button>
                    <button id="stand-btn" class="btn btn-success btn-sm w-50" disabled>Rester</button>
                </div>
                <div class="d-flex gap-1 mb-1">
                    <button id="double-down-btn" class="btn btn-success btn-sm w-50" disabled>Doubler</button>
                    <button id="split-btn" class="btn btn-success btn-sm w-50" disabled>Séparer</button>
                </div>
                <button id="new-game-btn" class="btn btn-secondary btn-sm w-100">Nouvelle Partie</button>
            </div>

            <div id="message" class="alert alert-light py-1 px-2 small" role="alert"></div>
        </div>
    </div>

    <div class="modal fade" id="rulesModal" tabindex="-1" aria-labelledby="rulesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content bg-dark text-white">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title" id="rulesModalLabel">Règles & Termes du Blackjack</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fermer"></button>
                </div>
                <div class="modal-body">
                    <h6 class="text-warning">Règles de base:</h6>
                    <ul class="list-group list-group-flush bg-dark mb-4">
                        <li class="list-group-item bg-dark text-white">Le but est de battre la main du croupier sans dépasser 21</li>
                        <li class="list-group-item bg-dark text-white">Les figures (V, D, R) valent 10. L'As vaut 1 ou 11</li>
                        <li class="list-group-item bg-dark text-white">Chaque joueur commence avec deux cartes</li>
                        <li class="list-group-item bg-dark text-white">Le croupier doit tirer à 16 et rester à 17</li>
                    </ul>

                    <h6 class="text-warning">Termes:</h6>
                    <dl class="row">
                        <dt class="col-sm-3">Tirer carte</dt>
                        <dd class="col-sm-9">Demander une carte supplémentaire</dd>

                        <dt class="col-sm-3">Rester</dt>
                        <dd class="col-sm-9">Garder ses cartes et passer son tour</dd>

                        <dt class="col-sm-3">Doubler</dt>
                        <dd class="col-sm-9">Doubler sa mise initiale et recevoir exactement une carte</dd>

                        <dt class="col-sm-3">Séparer</dt>
                        <dd class="col-sm-9">Si vous avez deux cartes de même valeur, les séparer en deux mains</dd>

                        <dt class="col-sm-3">Perdu</dt>
                        <dd class="col-sm-9">Quand votre main dépasse 21, perte automatique</dd>

                        <dt class="col-sm-3">Blackjack</dt>
                        <dd class="col-sm-9">Un As et une carte de valeur 10, payé 3:2</dd>
                    </dl>
                </div>
                <div class="modal-footer border-secondary">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>